import React, { useEffect, useRef, useState } from 'react';
import './About.css';
import { motion } from 'framer-motion';
import OtusLogo from '../img/otus_engine.svg';

// vanta pls add typescript typing
const vantaNet = require('vanta/dist/vanta.net.min').default;

export default () => {
  const [vantaEffect, setVantaEffect] = useState(0);
  const vantaRef = useRef(null);
  useEffect(() => {
    if (!vantaEffect) {
      setVantaEffect(vantaNet({
        el: vantaRef.current,
        mouseControls: true,
        touchControls: true,
        gyroControls: true,
        minHeight: 200,
        minWidth: 200,
        scale: 1,
        scaleMobile: 1,
        spacing: 17,
        points: 9,
        color: 0xf05d5e,
        backgroundColor: 0x060e0e,
      }));
    }
  }, [vantaEffect]);
  return (
    <div id="background" ref={vantaRef}>
      <motion.div
        id="centerDiv"
        animate={{ opacity: 1 }}
        transition={{ delay: 0, duration: 0.5, ease: 'easeInOut' }}
        style={{ opacity: 0, margin: '20px' }}
      >
        <motion.div
          animate={{
            y: '-15vh',
            scale: 1.5,
          }}
          transition={{ duration: 1, delay: 2, ease: 'easeInOut' }}
          style={{
            scale: 3,
          }}
        >
          <motion.svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 828 501"
          >
            <motion.path
              d="m 152.875,371.994 q 9.8,0 16.417,5.707 6.617,5.707 7.374,16.729 h -47.689 q 1.507,-10.34 7.374,-16.387 5.867,-6.047 16.524,-6.049 z m -0.011,-22.825 q -23.274,0 -37.858,14.68 -14.584,14.68 -14.584,42.187 0,29.359 16.155,42.386 a 57.712,57.712 0 0 0 37.291,13.025 q 25.6,0 39.829,-15.443 9.144,-9.711 10.262,-19.134 h -28.261 a 23.288,23.288 0 0 1 -5.7,7.285 q -5.911,4.857 -15.37,4.856 a 28.12,28.12 0 0 1 -15.263,-3.982 Q 128.94,428.618 128.294,412.69 h 77.107 a 135.4,135.4 0 0 0 -0.912,-21.012 52.031,52.031 0 0 0 -8.435,-21.886 43.064,43.064 0 0 0 -18.3,-15.662 60.275,60.275 0 0 0 -24.9,-4.961 v 0 z m 121.188,0.294 q -13.058,0 -21.568,6.411 -4.739,3.589 -10.059,11.749 V 352.18 h -26.807 v 105.673 h 27.681 v -57.3 q 0,-9.81 2.7,-16.123 5.207,-11.947 19.187,-11.947 11.375,0 15.426,8.159 2.217,4.469 2.218,12.821 v 64.39 h 28.36 v -71.29 q 0,-19.909 -10.4,-28.507 -10.4,-8.598 -26.741,-8.6 v 0 z m 104.354,85.666 q -14.51,0 -20.119,-13.4 a 41.136,41.136 0 0 1 -3.094,-16.414 q 0,-10.683 2.9,-17.968 5.514,-13.695 20.022,-13.7 10.638,0 16.973,7.867 6.335,7.867 6.336,22.922 0,16.026 -6.675,23.359 a 21.253,21.253 0 0 1 -16.344,7.333 v 0 z m -6.954,-85.666 q -21.534,0 -33.272,16.075 -11.738,16.075 -11.735,39.673 0,24.476 12.189,38.8 12.189,14.324 32.586,14.326 13.209,0 21.465,-6.313 a 33.752,33.752 0 0 0 8.547,-10.2 v 6.8 q 0,15.153 -3.3,21.562 -5.051,10 -20.008,10 -10.587,0 -15.054,-3.787 -2.625,-2.136 -3.792,-6.988 h -30.11 q 1.359,15.831 14.181,23.8 12.822,7.969 33.12,7.965 33.6,0 45.455,-17.871 6.9,-10.4 6.9,-30.887 V 351.986 h -27 v 15.248 q -6.21,-11.168 -16.3,-15.346 a 36.414,36.414 0 0 0 -13.871,-2.428 v 0 z m 107.484,-35.645 h -28.07 v 25.545 h 28.07 v -25.548 z m -28.07,144.035 h 28.07 V 351.986 h -28.07 z m 109.526,-108.39 q -13.058,0 -21.568,6.411 -4.74,3.594 -10.059,11.752 V 352.18 h -26.807 v 105.673 h 27.681 v -57.3 q 0,-9.81 2.7,-16.123 5.207,-11.947 19.187,-11.947 11.376,0 15.427,8.159 2.217,4.469 2.217,12.821 v 64.39 h 28.361 v -71.29 q 0,-19.909 -10.4,-28.507 -10.4,-8.598 -26.742,-8.6 v 0 z m 103,22.534 q 9.8,0 16.417,5.707 6.617,5.707 7.374,16.729 h -47.69 q 1.507,-10.34 7.374,-16.387 5.867,-6.047 16.524,-6.049 v 0 z m -0.011,-22.825 q -23.274,0 -37.858,14.68 -14.584,14.68 -14.584,42.187 0,29.359 16.155,42.386 a 57.711,57.711 0 0 0 37.29,13.025 q 25.6,0 39.83,-15.443 9.144,-9.711 10.262,-19.134 h -28.262 a 23.288,23.288 0 0 1 -5.7,7.285 q -5.912,4.857 -15.37,4.856 a 28.12,28.12 0 0 1 -15.263,-3.982 q -10.425,-6.411 -11.071,-22.339 h 77.107 a 135.4,135.4 0 0 0 -0.912,-21.012 52.031,52.031 0 0 0 -8.435,-21.886 43.064,43.064 0 0 0 -18.295,-15.662 60.275,60.275 0 0 0 -24.9,-4.961 v 0 z"
              variants={{
                hidden: {
                  pathLength: 0,
                  fill: '#060e0e',
                },
                visible: {
                  pathLength: 1,
                  fill: '#f05d5e',
                },
              }}
              initial="hidden"
              animate="visible"
              transition={{
                default: { duration: 3, ease: 'easeInOut' },
                fill: { duration: 3, ease: [1, 0, 0.8, 1] },
              }}
              style={{
                overflow: 'visible',
                stroke: '#f05d5e',
                strokeWidth: 2,
              }}
            />
            <motion.path
              d="m 113.555,241.407 q -25.533,0 -39.31,-18.144 -13.777,-18.144 -13.786,-51.6 0,-33.445 13.786,-51.493 13.786,-18.048 39.315,-18.049 25.529,0 39.213,18.049 13.684,18.049 13.679,51.493 0,33.45 -13.684,51.6 -13.684,18.15 -39.213,18.144 z m 113.964,-69.744 q 0,-48.155 -28.185,-83.459 -28.185,-35.304 -85.575,-35.3 -57.393,0 -85.575,35.3 -28.182,35.3 -28.184,83.459 0,48.978 28.184,83.769 28.184,34.791 85.575,34.79 57.388,0 85.575,-34.79 28.187,-34.79 28.185,-83.769 z m 41.468,-68.112 V 240.59 q 0,20.832 9.8,30.839 15.111,15.731 56.369,14.3 l 27.572,-1.021 v -43.5 q -2.863,0.207 -5.821,0.307 -2.958,0.1 -5.616,0.1 -17.769,0 -21.241,-3.37 -3.472,-3.37 -3.472,-17.054 V 103.548 h 36.15 v -41.46 h -36.15 V 0 h -57.591 v 62.088 h -31.042 v 41.46 h 31.044 z m 121.12,-43.5 v 134.177 q 0,38.195 9.57,57.8 17.108,35.535 66.393,35.535 17.107,0 29.837,-4.493 12.73,-4.493 26.375,-16.748 a 40.89,40.89 0 0 0 7.739,-8.986 q 3.255,-5.1 4.072,-6.127 v 31.454 h 56.573 V 60.045 h -59.021 v 121.112 q 0,21.445 -5.69,34.516 -10.976,24.1 -40.646,24.1 -23.168,0 -31.092,-16.952 -4.47,-9.6 -4.471,-28.593 V 60.045 h -59.639 z m 234.879,151.537 q 0,34.313 25.07,56.471 25.07,22.158 77.664,22.16 51.567,0 76.228,-20.934 24.661,-20.934 24.661,-54.022 0,-25.12 -17.156,-41.868 -17.361,-16.543 -52.144,-24.712 -52.176,-11.436 -60.773,-16.135 -8.606,-4.489 -8.6,-14.5 0,-7.965 8.09,-13.888 8.09,-5.923 27.134,-5.923 23.139,0 32.77,11.846 5.118,6.538 6.348,17.769 h 58.207 Q 818.594,87.006 792.293,70.359 765.992,53.712 724.241,53.714 q -44,0 -68.259,22.16 -24.259,22.16 -24.253,53 0,26.145 15.522,40.03 15.517,14.093 53.465,23.487 52.707,12.461 60.894,17.564 a 16.513,16.513 0 0 1 8.182,14.91 q 0,10.215 -10.157,15.317 -10.157,5.102 -27.4,5.106 -29.348,0 -40.221,-11.641 -6.156,-6.534 -8,-22.058 h -59.028 z"
              variants={{
                hidden: {
                  pathLength: 0,
                  fill: '#060e0e',
                },
                visible: {
                  pathLength: 1,
                  fill: '#f1f2eb',
                },
              }}
              initial="hidden"
              animate="visible"
              transition={{
                fill: { duration: 3, ease: [1, 0, 0.8, 1] },
                default: { duration: 3, ease: 'easeInOut' },
              }}
              style={{
                overflow: 'visible',
                stroke: '#F1F2EB',
                strokeWidth: 2,
              }}
            />
          </motion.svg>
        </motion.div>

        <motion.div
          animate={{ opacity: 1 }}
          transition={{ delay: 2.3, duration: 1, ease: 'easeInOut' }}
          style={{
            opacity: 0,
          }}
        >
          <motion.button
            whileHover={{ scale: 1.1 }}
            whileTap={{ scale: 0.9 }}
            style={{
              width: '200px',
              height: '60px',
              fontSize: '12pt',
            }}
          >
            start hacking Â»
          </motion.button>
        </motion.div>
      </motion.div>
    </div>
  );
};
